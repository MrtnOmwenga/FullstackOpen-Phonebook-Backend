{"version":3,"sources":["services/phonebook.js","App.js","index.js"],"names":["baseUrl","phonebook","axios","get","then","response","data","newObject","post","id","delete","concat","put","PersonForm","_ref","onSubmit","nameValue","nameChange","numberValue","numberChange","React","createElement","value","onChange","type","Filter","_ref2","Persons","_ref3","personsToDisplay","onClick","key","map","person","name","number","ErrorNotification","_ref4","message","className","SuccessNotification","_ref5","App","_useState","useState","_useState2","_slicedToArray","persons","setPersons","_useState3","_useState4","newName","setNewName","_useState5","_useState6","newPhoneNumber","setNewPhoneNumber","_useState7","_useState8","searchFilter","setSearchFilter","_useState9","_useState10","errorMessage","setErrorMessage","_useState11","_useState12","successMessage","setSuccessMessage","useEffect","filteredData","filter","toLowerCase","length","event","target","preventDefault","exists","find","undefined","alert","window","confirm","_objectSpread","catch","error","setTimeout","ReactDOM","createRoot","document","getElementById","render"],"mappings":"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","file":"static/js/main.210fb3cc.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const response = axios.get(baseUrl)\r\n    return response.then(response => response.data)\r\n}\r\n\r\nconst addPerson = (newObject) => {\r\n    const response = axios.post(baseUrl, newObject)\r\n    return response.then(response => response.data)\r\n}\r\n\r\nconst deletePerson = (id) => {\r\n    axios.delete(`${baseUrl}/${id}`)\r\n}\r\n\r\nconst updatePhonebook = (id, newObject) => {\r\n    const response = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return response.then(response => response.data)\r\n}\r\n\r\nexport default {getAll, addPerson, deletePerson, updatePhonebook}","import React from 'react'\nimport { useState, useEffect } from 'react'\nimport phonebook from './services/phonebook'\nimport './index.css'\n\nconst PersonForm = ({onSubmit, nameValue, nameChange, numberValue, numberChange }) => {\n  return (\n    <div>\n        <h2>Add new number</h2>\n        <form onSubmit={onSubmit}>\n          <div>\n            Name: <input value={nameValue} onChange={nameChange}/>\n          </div>\n          <div>\n            Number: <input value={numberValue} onChange={numberChange}/>\n          </div>\n          <div>\n            <button type=\"submit\">Add</button>\n          </div>\n        </form>\n      </div>\n  )\n}\n\nconst Filter = ({value, onChange}) => {\n  return (\n    <div>\n      <p>Filter shown with: </p>\n      <input value={value} onChange={onChange}/>\n    </div>\n  )\n}\n\nconst Persons = ({personsToDisplay, onClick}) => {\n  return (\n    <div key=\"Persons\">\n      {personsToDisplay.map((person) => {\n        return (\n            <p key={person.id}>{person.name} {person.number} &ensp;\n            <button onClick={() => onClick(person.id)}>Delete</button></p>\n        )\n      })}\n    </div>\n  )\n}\n\nconst ErrorNotification = ({ message }) => {\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div className='error'>\n      {message}\n    </div>\n  )\n}\n\nconst SuccessNotification = ({ message }) => {\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div className='success'>\n      {message}\n    </div>\n  )\n}\n\nconst App = () => {\n  // States\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newPhoneNumber, setNewPhoneNumber] = useState('36-44-1231234')\n  const [searchFilter, setSearchFilter] =useState('')\n  const [errorMessage, setErrorMessage] = useState(null)\n  const [successMessage, setSuccessMessage] = useState(null)\n\n  // Populate persons\n  useEffect(() => {\n    phonebook.getAll().then(response => setPersons(response))\n  }, [])\n\n  // Handle Submitting form\n  const handleSubmit = (event) => {\n    event.preventDefault()\n    const exists = persons.find((person) => person.name === newName)\n    if (exists !== undefined)\n    {\n      if (exists.number === newPhoneNumber) {\n        alert(newName + \" is already added to phonebook\")\n      } else {\n        if (window.confirm(`${newName} is already added to phonebook; replace old number with new one?`)) {\n          phonebook.updatePhonebook(exists.id, {...exists, number: newPhoneNumber}).then(response => {\n            setPersons(persons.map(person => person.id !== exists.id ? person : response))\n          }).catch(error => {\n            setErrorMessage(`Information of ${exists.name} has alredy been removed from server`)\n            setTimeout(() => {\n              setErrorMessage(null)\n            }, 5000)\n          })\n        }\n      }\n    } else {\n      const newObject = {\n        name: newName,\n        number: newPhoneNumber,\n        id: persons.length + 1\n      }\n  \n      phonebook.addPerson(newObject).then(response => {\n        setPersons(persons.concat(response))\n        setSuccessMessage(`Added ${response.name}`)\n        setTimeout(() => {\n          setSuccessMessage(null)\n        }, 5000)\n        setNewName('')\n      })\n    }\n\n  }\n\n  // Handle name input\n  const handleName = (event) => {\n    setNewName(event.target.value)\n  }\n\n  // Handle phone number input\n  const handlePhoneNumber = (event) => {\n    setNewPhoneNumber(event.target.value)\n  }\n\n  // Handle search filter\n  const handleSearchFilter =(event) => {\n    setSearchFilter(event.target.value)\n  }\n\n  //Delete person from phonebook\n  const deletePerson = (id) => {\n    const person = persons.filter(person => person.id === id)\n    person.map(person => {\n      if (window.confirm(`Delete ${person.name} ?`)) {\n        phonebook.deletePerson(id)\n        const newObject = persons.filter(person => person.id !== id)\n        setPersons(newObject)\n      }\n    })\n  }\n\n  const filteredData = persons.filter((person) => person.name.toLowerCase() === searchFilter.toLowerCase())\n  const personsToDisplay = filteredData.length === 0 ? persons : filteredData\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <ErrorNotification message={errorMessage}/>\n      <SuccessNotification message={successMessage}/>\n      <Filter value={searchFilter} onChange={handleSearchFilter}/>\n      <PersonForm onSubmit={handleSubmit} nameValue={newName} nameChange={handleName} numberValue={newPhoneNumber} numberChange={handlePhoneNumber}/>\n      <h2>Numbers</h2>\n      <Persons personsToDisplay={personsToDisplay} onClick={deletePerson}/>\n    </div>\n  )\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom/client'\n\nimport App from './App'\n\nReactDOM.createRoot(document.getElementById('root')).render(<App />)"],"sourceRoot":""}